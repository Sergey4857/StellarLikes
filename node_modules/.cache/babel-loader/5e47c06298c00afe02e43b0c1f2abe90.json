{"ast":null,"code":"import axios from 'axios';\nconst baseInstagramUrl = process.env.REACT_APP_BASE_INSTAGRAM_URL;\nconst consumer_key = process.env.REACT_APP_CONSUMER_KEY;\nconst consumer_secret = process.env.REACT_APP_CONSUMER_SECRET;\nconst FetchAllProductData = async (setTiktokLikesData, setTiktokViewsData) => {\n  try {\n    const response = await axios.get(`${baseInstagramUrl}/wp-json/wc/v3/products/22132?consumer_key=${consumer_key}&consumer_secret=${consumer_secret}`);\n    console.log(response);\n\n    // const tikTokLikesData = response.data\n    //   .filter(product => product.name === 'Buy TikTok Live Likes')\n    //   .map(product => product.meta_data)\n    //   .flat();\n\n    // const tiktokViewsData = response.data\n    //   .filter(product => product.name === 'Buy TikTok Views')\n    //   .map(product => product.meta_data)\n    //   .flat();\n\n    // setTiktokLikesData(tikTokLikesData);\n    // setTiktokViewsData(tiktokViewsData);\n\n    // const result = [];\n    // let currentOptionSet = {};\n\n    // // Проходим по каждому элементу массива\n    // TikTokLikesData.forEach(item => {\n    //   const quantityMatch =\n    //     item.key && item.key.match(/quantity_options_(\\d+)_quantity/);\n    //   const priceMatch =\n    //     item.key && item.key.match(/quantity_options_(\\d+)_price/);\n    //   const discountMatch =\n    //     item.key && item.key.match(/quantity_options_(\\d+)_discount/);\n\n    //   if (quantityMatch) {\n    //     const index = quantityMatch[1];\n    //     if (!currentOptionSet[index]) {\n    //       currentOptionSet[index] = {};\n    //     }\n    //     currentOptionSet[index].quantity = item.value; // Добавляем количество\n    //   }\n\n    //   if (priceMatch) {\n    //     const index = priceMatch[1];\n    //     if (!currentOptionSet[index]) {\n    //       currentOptionSet[index] = {};\n    //     }\n    //     currentOptionSet[index].price = item.value; // Добавляем цену\n    //   }\n\n    //   if (discountMatch) {\n    //     const index = discountMatch[1];\n    //     if (!currentOptionSet[index]) {\n    //       currentOptionSet[index] = {};\n    //     }\n    //     currentOptionSet[index].discount = item.value; // Добавляем скидку\n    //   }\n    // });\n\n    // for (const key in currentOptionSet) {\n    //   result.push(currentOptionSet[key]);\n    // }\n\n    // console.log(result);\n    // return result;\n  } catch (error) {\n    console.error('Error fetching data:', error); // Выводим ошибку в консоль\n  }\n};\n_c = FetchAllProductData;\nexport default FetchAllProductData;\nvar _c;\n$RefreshReg$(_c, \"FetchAllProductData\");","map":{"version":3,"names":["axios","baseInstagramUrl","process","env","REACT_APP_BASE_INSTAGRAM_URL","consumer_key","REACT_APP_CONSUMER_KEY","consumer_secret","REACT_APP_CONSUMER_SECRET","FetchAllProductData","setTiktokLikesData","setTiktokViewsData","response","get","console","log","error","_c","$RefreshReg$"],"sources":["D:/StellarLikes/src/Api/FetchTiktokLikes.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst baseInstagramUrl = process.env.REACT_APP_BASE_INSTAGRAM_URL;\r\nconst consumer_key = process.env.REACT_APP_CONSUMER_KEY;\r\nconst consumer_secret = process.env.REACT_APP_CONSUMER_SECRET;\r\n\r\nconst FetchAllProductData = async (setTiktokLikesData, setTiktokViewsData) => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${baseInstagramUrl}/wp-json/wc/v3/products/22132?consumer_key=${consumer_key}&consumer_secret=${consumer_secret}`\r\n    );\r\n    console.log(response);\r\n\r\n    // const tikTokLikesData = response.data\r\n    //   .filter(product => product.name === 'Buy TikTok Live Likes')\r\n    //   .map(product => product.meta_data)\r\n    //   .flat();\r\n\r\n    // const tiktokViewsData = response.data\r\n    //   .filter(product => product.name === 'Buy TikTok Views')\r\n    //   .map(product => product.meta_data)\r\n    //   .flat();\r\n\r\n    // setTiktokLikesData(tikTokLikesData);\r\n    // setTiktokViewsData(tiktokViewsData);\r\n\r\n    // const result = [];\r\n    // let currentOptionSet = {};\r\n\r\n    // // Проходим по каждому элементу массива\r\n    // TikTokLikesData.forEach(item => {\r\n    //   const quantityMatch =\r\n    //     item.key && item.key.match(/quantity_options_(\\d+)_quantity/);\r\n    //   const priceMatch =\r\n    //     item.key && item.key.match(/quantity_options_(\\d+)_price/);\r\n    //   const discountMatch =\r\n    //     item.key && item.key.match(/quantity_options_(\\d+)_discount/);\r\n\r\n    //   if (quantityMatch) {\r\n    //     const index = quantityMatch[1];\r\n    //     if (!currentOptionSet[index]) {\r\n    //       currentOptionSet[index] = {};\r\n    //     }\r\n    //     currentOptionSet[index].quantity = item.value; // Добавляем количество\r\n    //   }\r\n\r\n    //   if (priceMatch) {\r\n    //     const index = priceMatch[1];\r\n    //     if (!currentOptionSet[index]) {\r\n    //       currentOptionSet[index] = {};\r\n    //     }\r\n    //     currentOptionSet[index].price = item.value; // Добавляем цену\r\n    //   }\r\n\r\n    //   if (discountMatch) {\r\n    //     const index = discountMatch[1];\r\n    //     if (!currentOptionSet[index]) {\r\n    //       currentOptionSet[index] = {};\r\n    //     }\r\n    //     currentOptionSet[index].discount = item.value; // Добавляем скидку\r\n    //   }\r\n    // });\r\n\r\n    // for (const key in currentOptionSet) {\r\n    //   result.push(currentOptionSet[key]);\r\n    // }\r\n\r\n    // console.log(result);\r\n    // return result;\r\n  } catch (error) {\r\n    console.error('Error fetching data:', error); // Выводим ошибку в консоль\r\n  }\r\n};\r\n\r\nexport default FetchAllProductData;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,gBAAgB,GAAGC,OAAO,CAACC,GAAG,CAACC,4BAA4B;AACjE,MAAMC,YAAY,GAAGH,OAAO,CAACC,GAAG,CAACG,sBAAsB;AACvD,MAAMC,eAAe,GAAGL,OAAO,CAACC,GAAG,CAACK,yBAAyB;AAE7D,MAAMC,mBAAmB,GAAG,MAAAA,CAAOC,kBAAkB,EAAEC,kBAAkB,KAAK;EAC5E,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAC7B,GAAEZ,gBAAiB,8CAA6CI,YAAa,oBAAmBE,eAAgB,EACnH,CAAC;IACDO,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;;IAErB;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;;IAEA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;;IAEA;IACA;EACF,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC,CAAC,CAAC;EAChD;AACF,CAAC;AAACC,EAAA,GAlEIR,mBAAmB;AAoEzB,eAAeA,mBAAmB;AAAC,IAAAQ,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}