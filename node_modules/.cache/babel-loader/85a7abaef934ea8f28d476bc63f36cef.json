{"ast":null,"code":"import axios from 'axios';\nconst baseUrl = 'https://testgraming.net';\nconst consumer_key = 'ck_de866a2819316f78ca384e75f2ae9d920ca65cbb';\nconst consumer_secret = 'cs_fdadbf0561f043d8e0ce537de4fc6a4650ab0740';\nconst FetchTikTokLikes = async setTiktoklikes => {\n  try {\n    const response = await axios.get(`${baseUrl}/wp-json/wc/v3/products?consumer_key=${consumer_key}&consumer_secret=${consumer_secret}`);\n    console.log(TikTokLikesData);\n    const TikTokLikesData = response.data.filter(product => product.name === 'Buy TikTok Likes') // Поправил название продукта\n    .flatMap(product => product.meta_data); // Извлекаем все метаданные\n\n    console.log(TikTokLikesData);\n    let products = [];\n    let currentProduct = {};\n    TikTokLikesData.forEach(item => {\n      if (item.key && item.key.includes('quantity_options_') && item.key.endsWith('_quantity')) {\n        currentProduct = {\n          id: item.id\n        };\n        currentProduct.quantity = item.value;\n      } else if (item.key && item.key.includes('quantity_options_') && item.key.endsWith('_price')) {\n        currentProduct.price = item.value;\n      } else if (item.key && item.key.includes('quantity_options_') && item.key.endsWith('_discount')) {\n        currentProduct.discount = item.value;\n        products.push({\n          ...currentProduct\n        }); // Заканчиваем сбор данных о продукте и добавляем в массив\n      }\n    });\n\n    console.log(products);\n    setTiktoklikes(products);\n  } catch (error) {\n    console.error('Error fetching data:', error);\n  } finally {}\n};\n_c = FetchTikTokLikes;\nexport default FetchTikTokLikes;\nvar _c;\n$RefreshReg$(_c, \"FetchTikTokLikes\");","map":{"version":3,"names":["axios","baseUrl","consumer_key","consumer_secret","FetchTikTokLikes","setTiktoklikes","response","get","console","log","TikTokLikesData","data","filter","product","name","flatMap","meta_data","products","currentProduct","forEach","item","key","includes","endsWith","id","quantity","value","price","discount","push","error","_c","$RefreshReg$"],"sources":["D:/StellarLikes/src/Api/api.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst baseUrl = 'https://testgraming.net';\r\nconst consumer_key = 'ck_de866a2819316f78ca384e75f2ae9d920ca65cbb';\r\nconst consumer_secret = 'cs_fdadbf0561f043d8e0ce537de4fc6a4650ab0740';\r\n\r\nconst FetchTikTokLikes = async setTiktoklikes => {\r\n  try {\r\n    const response = await axios.get(\r\n      `${baseUrl}/wp-json/wc/v3/products?consumer_key=${consumer_key}&consumer_secret=${consumer_secret}`\r\n    );\r\n\r\n    console.log(TikTokLikesData);\r\n\r\n    const TikTokLikesData = response.data\r\n      .filter(product => product.name === 'Buy TikTok Likes') // Поправил название продукта\r\n      .flatMap(product => product.meta_data); // Извлекаем все метаданные\r\n\r\n    console.log(TikTokLikesData);\r\n\r\n    let products = [];\r\n    let currentProduct = {};\r\n\r\n    TikTokLikesData.forEach(item => {\r\n      if (\r\n        item.key &&\r\n        item.key.includes('quantity_options_') &&\r\n        item.key.endsWith('_quantity')\r\n      ) {\r\n        currentProduct = { id: item.id };\r\n        currentProduct.quantity = item.value;\r\n      } else if (\r\n        item.key &&\r\n        item.key.includes('quantity_options_') &&\r\n        item.key.endsWith('_price')\r\n      ) {\r\n        currentProduct.price = item.value;\r\n      } else if (\r\n        item.key &&\r\n        item.key.includes('quantity_options_') &&\r\n        item.key.endsWith('_discount')\r\n      ) {\r\n        currentProduct.discount = item.value;\r\n        products.push({ ...currentProduct }); // Заканчиваем сбор данных о продукте и добавляем в массив\r\n      }\r\n    });\r\n\r\n    console.log(products);\r\n    setTiktoklikes(products);\r\n  } catch (error) {\r\n    console.error('Error fetching data:', error);\r\n  } finally {\r\n  }\r\n};\r\n\r\nexport default FetchTikTokLikes;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,yBAAyB;AACzC,MAAMC,YAAY,GAAG,6CAA6C;AAClE,MAAMC,eAAe,GAAG,6CAA6C;AAErE,MAAMC,gBAAgB,GAAG,MAAMC,cAAc,IAAI;EAC/C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAG,CAC7B,GAAEN,OAAQ,wCAAuCC,YAAa,oBAAmBC,eAAgB,EACpG,CAAC;IAEDK,OAAO,CAACC,GAAG,CAACC,eAAe,CAAC;IAE5B,MAAMA,eAAe,GAAGJ,QAAQ,CAACK,IAAI,CAClCC,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACC,IAAI,KAAK,kBAAkB,CAAC,CAAC;IAAA,CACvDC,OAAO,CAACF,OAAO,IAAIA,OAAO,CAACG,SAAS,CAAC,CAAC,CAAC;;IAE1CR,OAAO,CAACC,GAAG,CAACC,eAAe,CAAC;IAE5B,IAAIO,QAAQ,GAAG,EAAE;IACjB,IAAIC,cAAc,GAAG,CAAC,CAAC;IAEvBR,eAAe,CAACS,OAAO,CAACC,IAAI,IAAI;MAC9B,IACEA,IAAI,CAACC,GAAG,IACRD,IAAI,CAACC,GAAG,CAACC,QAAQ,CAAC,mBAAmB,CAAC,IACtCF,IAAI,CAACC,GAAG,CAACE,QAAQ,CAAC,WAAW,CAAC,EAC9B;QACAL,cAAc,GAAG;UAAEM,EAAE,EAAEJ,IAAI,CAACI;QAAG,CAAC;QAChCN,cAAc,CAACO,QAAQ,GAAGL,IAAI,CAACM,KAAK;MACtC,CAAC,MAAM,IACLN,IAAI,CAACC,GAAG,IACRD,IAAI,CAACC,GAAG,CAACC,QAAQ,CAAC,mBAAmB,CAAC,IACtCF,IAAI,CAACC,GAAG,CAACE,QAAQ,CAAC,QAAQ,CAAC,EAC3B;QACAL,cAAc,CAACS,KAAK,GAAGP,IAAI,CAACM,KAAK;MACnC,CAAC,MAAM,IACLN,IAAI,CAACC,GAAG,IACRD,IAAI,CAACC,GAAG,CAACC,QAAQ,CAAC,mBAAmB,CAAC,IACtCF,IAAI,CAACC,GAAG,CAACE,QAAQ,CAAC,WAAW,CAAC,EAC9B;QACAL,cAAc,CAACU,QAAQ,GAAGR,IAAI,CAACM,KAAK;QACpCT,QAAQ,CAACY,IAAI,CAAC;UAAE,GAAGX;QAAe,CAAC,CAAC,CAAC,CAAC;MACxC;IACF,CAAC,CAAC;;IAEFV,OAAO,CAACC,GAAG,CAACQ,QAAQ,CAAC;IACrBZ,cAAc,CAACY,QAAQ,CAAC;EAC1B,CAAC,CAAC,OAAOa,KAAK,EAAE;IACdtB,OAAO,CAACsB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;EAC9C,CAAC,SAAS,CACV;AACF,CAAC;AAACC,EAAA,GA/CI3B,gBAAgB;AAiDtB,eAAeA,gBAAgB;AAAC,IAAA2B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}