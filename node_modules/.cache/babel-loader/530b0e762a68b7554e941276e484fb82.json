{"ast":null,"code":"import _slicedToArray from\"C:/laragon/www/StellarLikes/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import css from'./CustomQuantity.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CustomQuantity=function CustomQuantity(_ref){var discountLevels=_ref.discountLevels,basePricePerUnit=_ref.basePricePerUnit,onQuantityChange=_ref.onQuantityChange,customPrice=_ref.customPrice,customQuantity=_ref.customQuantity,blockColor=_ref.blockColor,textColor=_ref.textColor,discountColor=_ref.discountColor,_ref$initialQuantity=_ref.initialQuantity,initialQuantity=_ref$initialQuantity===void 0?100:_ref$initialQuantity;var _useState=useState(customQuantity||initialQuantity),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];var _useState3=useState(customQuantity||initialQuantity),_useState4=_slicedToArray(_useState3,2),inputValue=_useState4[0],setInputValue=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),discountPercent=_useState6[0],setDiscountPercent=_useState6[1];var typingTimeoutRef=useRef(null);useEffect(function(){onQuantityChange(quantity);var applicableDiscount=0;for(var i=discountLevels.length-1;i>=0;i--){if(quantity>=discountLevels[i].quantity){applicableDiscount=discountLevels[i].discount;break;}}setDiscountPercent(Math.round(applicableDiscount));// Since nextDiscountQuantity and nextDiscountPercent are not used,\n// the code related to them has been removed to eliminate warnings.\n},[quantity,discountLevels,onQuantityChange]);useEffect(function(){return function(){if(typingTimeoutRef.current){clearTimeout(typingTimeoutRef.current);}};},[]);var handleInputChange=function handleInputChange(e){var value=e.target.value;setInputValue(value);if(typingTimeoutRef.current){clearTimeout(typingTimeoutRef.current);}typingTimeoutRef.current=setTimeout(function(){var intValue=parseInt(value,10);if(!isNaN(intValue)){if(intValue<initialQuantity){intValue=initialQuantity;}else if(intValue>20000){intValue=20000;}setQuantity(intValue);setInputValue(intValue.toString());}else if(value===''){setQuantity('');setInputValue('');}else{setInputValue(quantity.toString());}},1000);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:css.customQuantitySection,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(css[blockColor],\" \").concat(css.customAmountBlock),children:[/*#__PURE__*/_jsx(\"div\",{className:css.customAmountTitle,children:\"Your Custom Amount\"}),/*#__PURE__*/_jsx(\"input\",{className:css.customAmountInput,type:\"number\",placeholder:\"Tap Here\",value:inputValue,onChange:handleInputChange,min:initialQuantity,max:\"20000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:css.customDiscountBlock,children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(css[textColor],\" \").concat(css.customDiscountTitle),children:\"Your Discount\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(css[discountColor],\" \").concat(css.customDiscountPercent),children:[discountPercent,\"% off\"]})]})]})});};export default CustomQuantity;","map":{"version":3,"names":["React","useState","useEffect","useRef","css","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CustomQuantity","_ref","discountLevels","basePricePerUnit","onQuantityChange","customPrice","customQuantity","blockColor","textColor","discountColor","_ref$initialQuantity","initialQuantity","_useState","_useState2","_slicedToArray","quantity","setQuantity","_useState3","_useState4","inputValue","setInputValue","_useState5","_useState6","discountPercent","setDiscountPercent","typingTimeoutRef","applicableDiscount","i","length","discount","Math","round","current","clearTimeout","handleInputChange","e","value","target","setTimeout","intValue","parseInt","isNaN","toString","children","className","customQuantitySection","concat","customAmountBlock","customAmountTitle","customAmountInput","type","placeholder","onChange","min","max","customDiscountBlock","customDiscountTitle","customDiscountPercent"],"sources":["C:/laragon/www/StellarLikes/src/components/CustomQuantiy/CustomQuantity.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport css from './CustomQuantity.module.css';\r\n\r\nconst CustomQuantity = ({\r\n  discountLevels,\r\n  basePricePerUnit,\r\n  onQuantityChange,\r\n  customPrice,\r\n  customQuantity,\r\n  blockColor,\r\n  textColor,\r\n  discountColor,\r\n  initialQuantity = 100,\r\n}) => {\r\n  const [quantity, setQuantity] = useState(customQuantity || initialQuantity);\r\n  const [inputValue, setInputValue] = useState(\r\n    customQuantity || initialQuantity\r\n  );\r\n  const [discountPercent, setDiscountPercent] = useState(0);\r\n\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    onQuantityChange(quantity);\r\n\r\n    let applicableDiscount = 0;\r\n    for (let i = discountLevels.length - 1; i >= 0; i--) {\r\n      if (quantity >= discountLevels[i].quantity) {\r\n        applicableDiscount = discountLevels[i].discount;\r\n        break;\r\n      }\r\n    }\r\n    setDiscountPercent(Math.round(applicableDiscount));\r\n\r\n    // Since nextDiscountQuantity and nextDiscountPercent are not used,\r\n    // the code related to them has been removed to eliminate warnings.\r\n  }, [quantity, discountLevels, onQuantityChange]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const handleInputChange = e => {\r\n    const value = e.target.value;\r\n    setInputValue(value);\r\n\r\n    if (typingTimeoutRef.current) {\r\n      clearTimeout(typingTimeoutRef.current);\r\n    }\r\n\r\n    typingTimeoutRef.current = setTimeout(() => {\r\n      let intValue = parseInt(value, 10);\r\n\r\n      if (!isNaN(intValue)) {\r\n        if (intValue < initialQuantity) {\r\n          intValue = initialQuantity;\r\n        } else if (intValue > 20000) {\r\n          intValue = 20000;\r\n        }\r\n        setQuantity(intValue);\r\n        setInputValue(intValue.toString());\r\n      } else if (value === '') {\r\n        setQuantity('');\r\n        setInputValue('');\r\n      } else {\r\n        setInputValue(quantity.toString());\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={css.customQuantitySection}>\r\n        <div className={`${css[blockColor]} ${css.customAmountBlock}`}>\r\n          <div className={css.customAmountTitle}>Your Custom Amount</div>\r\n          <input\r\n            className={css.customAmountInput}\r\n            type=\"number\"\r\n            placeholder=\"Tap Here\"\r\n            value={inputValue}\r\n            onChange={handleInputChange}\r\n            min={initialQuantity}\r\n            max=\"20000\"\r\n          />\r\n        </div>\r\n        <div className={css.customDiscountBlock}>\r\n          <div className={`${css[textColor]} ${css.customDiscountTitle}`}>\r\n            Your Discount\r\n          </div>\r\n          <div className={`${css[discountColor]} ${css.customDiscountPercent}`}>\r\n            {discountPercent}% off\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CustomQuantity;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}