{"ast":null,"code":"import _asyncToGenerator from\"D:/StellarLikes/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\StellarLikes\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import getUserIPAndCountry from'../Api/GetUserIpAndCountry';var API_KEY=process.env.REACT_APP_API_KEY;var TikTokUserDetails=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username){var ipData,response,json,originalData,newItem;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getUserIPAndCountry();case 3:ipData=_context.sent;_context.next=6;return fetch(\"https://tiktok-scraper7.p.rapidapi.com/user/info?unique_id=\".concat(username),{method:'GET',headers:{'x-rapidapi-host':'tiktok-scraper7.p.rapidapi.com','x-rapidapi-key':API_KEY}});case 6:response=_context.sent;console.log(response.data);if(!(response.status===200)){_context.next=22;break;}_context.next=11;return response.json();case 11:json=_context.sent;if(!json.data){_context.next=19;break;}originalData=json.data;console.log(originalData);newItem={pk:username,id:originalData.user.id,username:originalData.user.nickname,full_name:originalData.user.nickname,profile_pic_url:originalData.user.avatarThumb,local_image_path:originalData.user.avatarThumb,uniqueId:originalData.user.uniqueId,country:ipData?ipData.country:null};return _context.abrupt(\"return\",[newItem]);case 19:throw new Error('User not found. Please check the correctness of the entered username.');case 20:_context.next=23;break;case 22:throw new Error(\"Error: \".concat(response.status,\" \").concat(response.statusText));case 23:_context.next=28;break;case 25:_context.prev=25;_context.t0=_context[\"catch\"](0);throw new Error(\"Error: \".concat(_context.t0.message));case 28:case\"end\":return _context.stop();}}},_callee,null,[[0,25]]);}));return function TikTokUserDetails(_x){return _ref.apply(this,arguments);};}();export default TikTokUserDetails;","map":{"version":3,"names":["getUserIPAndCountry","API_KEY","process","env","REACT_APP_API_KEY","TikTokUserDetails","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","username","ipData","response","json","originalData","newItem","wrap","_callee$","_context","prev","next","sent","fetch","concat","method","headers","console","log","data","status","pk","id","user","nickname","full_name","profile_pic_url","avatarThumb","local_image_path","uniqueId","country","abrupt","Error","statusText","t0","message","stop","_x","apply","arguments"],"sources":["D:/StellarLikes/src/Api/TikTokUserDetails.jsx"],"sourcesContent":["import getUserIPAndCountry from '../Api/GetUserIpAndCountry';\r\n\r\nconst API_KEY = process.env.REACT_APP_API_KEY;\r\n\r\nconst TikTokUserDetails = async username => {\r\n  try {\r\n    const ipData = await getUserIPAndCountry();\r\n\r\n    const response = await fetch(\r\n      `https://tiktok-scraper7.p.rapidapi.com/user/info?unique_id=${username}`,\r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'x-rapidapi-host': 'tiktok-scraper7.p.rapidapi.com',\r\n          'x-rapidapi-key': API_KEY,\r\n        },\r\n      }\r\n    );\r\n    console.log(response.data);\r\n\r\n    if (response.status === 200) {\r\n      const json = await response.json();\r\n\r\n      if (json.data) {\r\n        const originalData = json.data;\r\n        console.log(originalData);\r\n\r\n        const newItem = {\r\n          pk: username,\r\n          id: originalData.user.id,\r\n          username: originalData.user.nickname,\r\n          full_name: originalData.user.nickname,\r\n          profile_pic_url: originalData.user.avatarThumb,\r\n          local_image_path: originalData.user.avatarThumb,\r\n          uniqueId: originalData.user.uniqueId,\r\n          country: ipData ? ipData.country : null,\r\n        };\r\n\r\n        return [newItem];\r\n      } else {\r\n        throw new Error(\r\n          'User not found. Please check the correctness of the entered username.'\r\n        );\r\n      }\r\n    } else {\r\n      throw new Error(`Error: ${response.status} ${response.statusText}`);\r\n    }\r\n  } catch (error) {\r\n    throw new Error(`Error: ${error.message}`);\r\n  }\r\n};\r\n\r\nexport default TikTokUserDetails;\r\n"],"mappings":"mNAAA,MAAO,CAAAA,mBAAmB,KAAM,4BAA4B,CAE5D,GAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE7C,GAAM,CAAAC,iBAAiB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAMC,QAAQ,MAAAC,MAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAC,YAAA,CAAAC,OAAA,QAAAR,mBAAA,CAAAS,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEf,CAAArB,mBAAmB,CAAC,CAAC,QAApCY,MAAM,CAAAO,QAAA,CAAAG,IAAA,CAAAH,QAAA,CAAAE,IAAA,SAEW,CAAAE,KAAK,+DAAAC,MAAA,CACoCb,QAAQ,EACtE,CACEc,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,iBAAiB,CAAE,gCAAgC,CACnD,gBAAgB,CAAEzB,OACpB,CACF,CACF,CAAC,QATKY,QAAQ,CAAAM,QAAA,CAAAG,IAAA,CAUdK,OAAO,CAACC,GAAG,CAACf,QAAQ,CAACgB,IAAI,CAAC,CAAC,KAEvBhB,QAAQ,CAACiB,MAAM,GAAK,GAAG,GAAAX,QAAA,CAAAE,IAAA,WAAAF,QAAA,CAAAE,IAAA,UACN,CAAAR,QAAQ,CAACC,IAAI,CAAC,CAAC,SAA5BA,IAAI,CAAAK,QAAA,CAAAG,IAAA,KAENR,IAAI,CAACe,IAAI,EAAAV,QAAA,CAAAE,IAAA,WACLN,YAAY,CAAGD,IAAI,CAACe,IAAI,CAC9BF,OAAO,CAACC,GAAG,CAACb,YAAY,CAAC,CAEnBC,OAAO,CAAG,CACde,EAAE,CAAEpB,QAAQ,CACZqB,EAAE,CAAEjB,YAAY,CAACkB,IAAI,CAACD,EAAE,CACxBrB,QAAQ,CAAEI,YAAY,CAACkB,IAAI,CAACC,QAAQ,CACpCC,SAAS,CAAEpB,YAAY,CAACkB,IAAI,CAACC,QAAQ,CACrCE,eAAe,CAAErB,YAAY,CAACkB,IAAI,CAACI,WAAW,CAC9CC,gBAAgB,CAAEvB,YAAY,CAACkB,IAAI,CAACI,WAAW,CAC/CE,QAAQ,CAAExB,YAAY,CAACkB,IAAI,CAACM,QAAQ,CACpCC,OAAO,CAAE5B,MAAM,CAAGA,MAAM,CAAC4B,OAAO,CAAG,IACrC,CAAC,QAAArB,QAAA,CAAAsB,MAAA,UAEM,CAACzB,OAAO,CAAC,eAEV,IAAI,CAAA0B,KAAK,CACb,uEACF,CAAC,SAAAvB,QAAA,CAAAE,IAAA,uBAGG,IAAI,CAAAqB,KAAK,WAAAlB,MAAA,CAAWX,QAAQ,CAACiB,MAAM,MAAAN,MAAA,CAAIX,QAAQ,CAAC8B,UAAU,CAAE,CAAC,SAAAxB,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAyB,EAAA,CAAAzB,QAAA,kBAG/D,IAAI,CAAAuB,KAAK,WAAAlB,MAAA,CAAWL,QAAA,CAAAyB,EAAA,CAAMC,OAAO,CAAE,CAAC,0BAAA1B,QAAA,CAAA2B,IAAA,OAAApC,OAAA,iBAE7C,kBA9CK,CAAAL,iBAAiBA,CAAA0C,EAAA,SAAAzC,IAAA,CAAA0C,KAAA,MAAAC,SAAA,OA8CtB,CAED,cAAe,CAAA5C,iBAAiB"},"metadata":{},"sourceType":"module"}